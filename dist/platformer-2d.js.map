{"version":3,"sources":["webpack://Platformer2D/webpack/universalModuleDefinition","webpack://Platformer2D/webpack/bootstrap","webpack://Platformer2D/webpack/runtime/define property getters","webpack://Platformer2D/webpack/runtime/hasOwnProperty shorthand","webpack://Platformer2D/webpack/runtime/make namespace object","webpack://Platformer2D/./src/services/canvas.service.ts","webpack://Platformer2D/./node_modules/tslib/tslib.es6.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/util/isFunction.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/Subscription.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/config.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/util/noop.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/NotificationFactories.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/util/errorContext.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/Subscriber.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/symbol/observable.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/util/identity.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/util/pipe.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/Observable.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/util/ObjectUnsubscribedError.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/Subject.js","webpack://Platformer2D/./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js","webpack://Platformer2D/./src/services/image.service.ts","webpack://Platformer2D/./src/objects/basic-object.ts","webpack://Platformer2D/./src/objects/entity-object.ts","webpack://Platformer2D/./src/objects/player/player.object.ts","webpack://Platformer2D/./src/objects/wall/wall.object.ts","webpack://Platformer2D/./src/services/object.service.ts","webpack://Platformer2D/./src/services/process.service.ts","webpack://Platformer2D/./src/index.ts"],"names":["root","factory","exports","module","define","amd","self","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","CanvasService","constructor","canvasElement","config","this","element","canvas","getContext","canvasHeight","canvasWidth","init","width","height","clearCanvas","clearRect","drawImage","img","coords","moveCamera","x","y","console","log","translate","extendStatics","b","setPrototypeOf","__proto__","Array","p","__extends","TypeError","String","__","create","__values","s","iterator","m","i","length","next","done","__read","n","e","ar","push","error","__spreadArray","to","from","il","j","isFunction","createErrorClass","createImpl","ctorFunc","instance","Error","stack","UnsubscriptionError","_super","errors","message","map","err","toString","join","name","arrRemove","arr","item","index","indexOf","splice","Subscription","initialTeardown","closed","_parentage","_teardowns","empty","unsubscribe","e_1","_a","e_2","_b","isArray","_parentage_1","_parentage_1_1","remove","e_1_1","return","_teardowns_1","_teardowns_1_1","teardown_1","execTeardown","e_2_1","add","teardown","_hasParent","_addParent","parent","includes","_removeParent","EMPTY","EMPTY_SUBSCRIPTION","isSubscription","timeoutProvider","setTimeout","args","_i","arguments","delegate","apply","clearTimeout","handle","reportUnhandledError","noop","COMPLETE_NOTIFICATION","createNotification","kind","context","errorContext","cb","isRoot","errorThrown","captureError","Subscriber","destination","_this","isStopped","EMPTY_OBSERVER","complete","SafeSubscriber","handleStoppedNotification","nextNotification","_next","_error","_complete","observerOrNext","context_1","bind","wrapForErrorHandling","defaultErrorHandler","handler","notification","subscriber","onStoppedNotification","observable","identity","pipeFromArray","fns","input","reduce","prev","fn","Observable","subscribe","_subscribe","lift","operator","source","isObserver","_trySubscribe","sink","forEach","promiseCtor","getPromiseCtor","resolve","reject","subscription","pipe","operations","toPromise","Promise","ObjectUnsubscribedError","Subject","observers","hasError","thrownError","subject","AnonymousSubject","_throwIfClosed","copy","slice","copy_1","copy_1_1","shift","configurable","_checkFinalizedStatuses","_innerSubscribe","asObservable","BehaviorSubject","_value","getValue","ImageService","files","bear","load","grass","filesCount","keys","loadedFilesCount","isLoadedSbj","isLoaded$","file","Image","onload","fileLoaded","src","BasicObject","imageService","canvasService","object","assign","model","modelName","drawObject","modelCoords","modelSize","render","EntityObject","super","vx","vy","minSpeed","moveRight","slowDown","speedUp","moveLeft","stop","jump","currSpeed","speed","abs","num","Player","pressedDirection","isJumpPressed","hasCollision","layer","jumpHeight","initEventListeners","document","addEventListener","Wall","ObjectService","staticObjects","dynamicObjects","objects","clearObjects","type","renderObjects","ProcessService","objectService","start","t","setInterval","step","clearInterval","Platformer2D","processService","sub","isLoaded","afterInit"],"mappings":"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","file":"platformer-2d.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Platformer2D\"] = factory();\n\telse\n\t\troot[\"Platformer2D\"] = factory();\n})(self, function() {\nreturn ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// icons https://www.studio-maximus.com/works/apps/birds-to-space/\r\nexport default class CanvasService {\r\n    constructor(canvasElement, config) {\r\n        this.element = canvasElement;\r\n        this.canvas = canvasElement.getContext('2d');\r\n        this.canvasHeight = config.canvasHeight;\r\n        this.canvasWidth = config.canvasWidth;\r\n        this.init();\r\n    }\r\n    init() {\r\n        this.element.width = this.canvasWidth;\r\n        this.element.height = this.canvasHeight;\r\n    }\r\n    clearCanvas() {\r\n        this.canvas.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\r\n    }\r\n    drawImage(img, coords) {\r\n        this.canvas.drawImage(img, ...coords);\r\n    }\r\n    moveCamera(x, y) {\r\n        console.log(123);\r\n        this.canvas.translate(x, y);\r\n    }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","export function createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._teardowns = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialTeardown = this.initialTeardown;\n            if (isFunction(initialTeardown)) {\n                try {\n                    initialTeardown();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _teardowns = this._teardowns;\n            if (_teardowns) {\n                this._teardowns = null;\n                try {\n                    for (var _teardowns_1 = __values(_teardowns), _teardowns_1_1 = _teardowns_1.next(); !_teardowns_1_1.done; _teardowns_1_1 = _teardowns_1.next()) {\n                        var teardown_1 = _teardowns_1_1.value;\n                        try {\n                            execTeardown(teardown_1);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_teardowns_1_1 && !_teardowns_1_1.done && (_b = _teardowns_1.return)) _b.call(_teardowns_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execTeardown(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._teardowns = (_a = this._teardowns) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _teardowns = this._teardowns;\n        _teardowns && arrRemove(_teardowns, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execTeardown(teardown) {\n    if (isFunction(teardown)) {\n        teardown();\n    }\n    else {\n        teardown.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export var config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var timeoutProvider = {\n    setTimeout: function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) || setTimeout).apply(void 0, __spreadArray([], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        var onUnhandledError = config.onUnhandledError;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","export var COMPLETE_NOTIFICATION = (function () { return createNotification('C', undefined, undefined); })();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind: kind,\n        value: value,\n        error: error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { config } from '../config';\nvar context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        var isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            var _a = context, errorThrown = _a.errorThrown, error = _a.error;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { __extends, __read, __spreadArray } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var next;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            (next = observerOrNext.next, error = observerOrNext.error, complete = observerOrNext.complete);\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n            }\n            else {\n                context_1 = observerOrNext;\n            }\n            next = next === null || next === void 0 ? void 0 : next.bind(context_1);\n            error = error === null || error === void 0 ? void 0 : error.bind(context_1);\n            complete = complete === null || complete === void 0 ? void 0 : complete.bind(context_1);\n        }\n        _this.destination = {\n            next: next ? wrapForErrorHandling(next, _this) : noop,\n            error: wrapForErrorHandling(error !== null && error !== void 0 ? error : defaultErrorHandler, _this),\n            complete: complete ? wrapForErrorHandling(complete, _this) : noop,\n        };\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\nfunction wrapForErrorHandling(handler, instance) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        try {\n            handler.apply(void 0, __spreadArray([], __read(args)));\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                captureError(err);\n            }\n            else {\n                reportUnhandledError(err);\n            }\n        }\n    };\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nexport var EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","export var observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var _this = this;\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(function () {\n            var _a = _this, operator = _a.operator, source = _a.source;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        _this._subscribe(subscriber)\n                    :\n                        _this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    subscription === null || subscription === void 0 ? void 0 : subscription.unsubscribe();\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return operations.length ? pipeFromArray(operations)(this) : this;\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { createErrorClass } from './createErrorClass';\nexport var ObjectUnsubscribedError = createErrorClass(function (_super) {\n    return function ObjectUnsubscribedErrorImpl() {\n        _super(this);\n        this.name = 'ObjectUnsubscribedError';\n        this.message = 'object unsubscribed';\n    };\n});\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","import { __extends, __values } from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.closed = false;\n        _this.observers = [];\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype._throwIfClosed = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    };\n    Subject.prototype.next = function (value) {\n        var _this = this;\n        errorContext(function () {\n            var e_1, _a;\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                var copy = _this.observers.slice();\n                try {\n                    for (var copy_1 = __values(copy), copy_1_1 = copy_1.next(); !copy_1_1.done; copy_1_1 = copy_1.next()) {\n                        var observer = copy_1_1.value;\n                        observer.next(value);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (copy_1_1 && !copy_1_1.done && (_a = copy_1.return)) _a.call(copy_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n        });\n    };\n    Subject.prototype.error = function (err) {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.hasError = _this.isStopped = true;\n                _this.thrownError = err;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().error(err);\n                }\n            }\n        });\n    };\n    Subject.prototype.complete = function () {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.isStopped = true;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().complete();\n                }\n            }\n        });\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = this.closed = true;\n        this.observers = null;\n    };\n    Object.defineProperty(Subject.prototype, \"observed\", {\n        get: function () {\n            var _a;\n            return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Subject.prototype._trySubscribe = function (subscriber) {\n        this._throwIfClosed();\n        return _super.prototype._trySubscribe.call(this, subscriber);\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    };\n    Subject.prototype._innerSubscribe = function (subscriber) {\n        var _a = this, hasError = _a.hasError, isStopped = _a.isStopped, observers = _a.observers;\n        return hasError || isStopped\n            ? EMPTY_SUBSCRIPTION\n            : (observers.push(subscriber), new Subscription(function () { return arrRemove(observers, subscriber); }));\n    };\n    Subject.prototype._checkFinalizedStatuses = function (subscriber) {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, isStopped = _a.isStopped;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map","import { __extends } from \"tslib\";\nimport { Subject } from './Subject';\nvar BehaviorSubject = (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        var _this = _super.call(this) || this;\n        _this._value = _value;\n        return _this;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        !subscription.closed && subscriber.next(this._value);\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, _value = _a._value;\n        if (hasError) {\n            throw thrownError;\n        }\n        this._throwIfClosed();\n        return _value;\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, (this._value = value));\n    };\n    return BehaviorSubject;\n}(Subject));\nexport { BehaviorSubject };\n//# sourceMappingURL=BehaviorSubject.js.map","import { BehaviorSubject } from \"rxjs\";\r\n// 1) Import image\r\nimport bear from '../assets/images/bear.svg';\r\nimport grass from '../assets/images/grass.jpg';\r\nexport class ImageService {\r\n    constructor() {\r\n        // 3) Load image to files object\r\n        this.files = {\r\n            bear: this.load(bear),\r\n            grass: this.load(grass),\r\n        };\r\n        this.filesCount = Object.keys(this.files).length;\r\n        this.loadedFilesCount = 0;\r\n        this.isLoadedSbj = new BehaviorSubject(false);\r\n        this.isLoaded$ = this.isLoadedSbj.asObservable();\r\n    }\r\n    load(file) {\r\n        const img = new Image();\r\n        img.onload = this.fileLoaded.bind(this);\r\n        img.src = file;\r\n        return img;\r\n    }\r\n    fileLoaded() {\r\n        if (++this.loadedFilesCount >= this.filesCount)\r\n            this.isLoadedSbj.next(true);\r\n    }\r\n}\r\n","export class BasicObject {\r\n    constructor(config, imageService, canvasService) {\r\n        this.config = config;\r\n        this.imageService = imageService;\r\n        this.canvasService = canvasService;\r\n        this.object = Object.assign(Object.assign({}, config), { model: this.imageService.files[config.modelName] });\r\n    }\r\n    drawObject() {\r\n        const modelCoords = [\r\n            ...this.config.coords, ...this.config.modelSize\r\n        ];\r\n        this.canvasService.drawImage(this.object.model, modelCoords);\r\n    }\r\n    render() {\r\n        this.drawObject();\r\n    }\r\n    ;\r\n}\r\n","import { BasicObject } from \"./basic-object\";\r\nexport class EntityObject extends BasicObject {\r\n    constructor(config, imageService, canvasService) {\r\n        super(config, imageService, canvasService);\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.minSpeed = 1;\r\n    }\r\n    moveRight() {\r\n        if (this.vx < 0)\r\n            this.vx = -this.slowDown(this.vx);\r\n        else\r\n            this.vx = this.speedUp(this.vx);\r\n        this.object.coords[0] = this.object.coords[0] + this.vx;\r\n    }\r\n    moveLeft() {\r\n        if (this.vx > 0)\r\n            this.vx = this.slowDown(this.vx);\r\n        else\r\n            this.vx = -this.speedUp(this.vx);\r\n        this.object.coords[0] = this.object.coords[0] + this.vx;\r\n    }\r\n    stop() {\r\n        if (this.vx === 0)\r\n            return;\r\n        if (this.vx > 0)\r\n            this.vx = this.slowDown(this.vx);\r\n        this.vx = -this.slowDown(this.vx);\r\n        this.object.coords[0] = this.object.coords[0] + this.vx;\r\n    }\r\n    jump() {\r\n    }\r\n    speedUp(currSpeed) {\r\n        const speed = this.abs(currSpeed);\r\n        if (speed < this.minSpeed)\r\n            return this.minSpeed;\r\n        if (speed * 2 > this.object.speed)\r\n            return this.object.speed;\r\n        return speed * 2;\r\n    }\r\n    slowDown(currSpeed) {\r\n        const speed = this.abs(currSpeed);\r\n        if (speed > this.minSpeed) {\r\n            if (speed / 2 < this.minSpeed)\r\n                return 0;\r\n            return speed / 2;\r\n        }\r\n        return 0;\r\n    }\r\n    abs(num) {\r\n        if (num < 0)\r\n            return -num;\r\n        return num;\r\n    }\r\n}\r\n","import { EntityObject } from \"../entity-object\";\r\nexport class Player extends EntityObject {\r\n    constructor(config, imageService, canvasService) {\r\n        super(config, imageService, canvasService);\r\n        this.pressedDirection = null;\r\n        this.isJumpPressed = false;\r\n        this.object.hasCollision = true;\r\n        this.object.layer = 2;\r\n        this.object.speed = 10;\r\n        this.object.jumpHeight = 40;\r\n        this.initEventListeners();\r\n    }\r\n    render() {\r\n        switch (this.pressedDirection) {\r\n            case 'left':\r\n                this.moveLeft();\r\n                break;\r\n            case 'right':\r\n                this.moveRight();\r\n                break;\r\n            default:\r\n                this.stop();\r\n        }\r\n        super.render();\r\n    }\r\n    initEventListeners() {\r\n        document.addEventListener('keydown', e => {\r\n            switch (e.key) {\r\n                case 'ArrowRight':\r\n                    this.pressedDirection = 'right';\r\n                    break;\r\n                case 'ArrowLeft':\r\n                    this.pressedDirection = 'left';\r\n                    break;\r\n                case 'ArrowUp':\r\n                    this.isJumpPressed = true;\r\n                    break;\r\n            }\r\n        });\r\n        document.addEventListener('keyup', e => {\r\n            switch (e.key) {\r\n                case 'ArrowRight':\r\n                    this.pressedDirection === 'right' ?\r\n                        this.pressedDirection = null : null;\r\n                    break;\r\n                case 'ArrowLeft':\r\n                    this.pressedDirection === 'left' ?\r\n                        this.pressedDirection = null : null;\r\n                    break;\r\n                case 'ArrowUp':\r\n                    this.isJumpPressed = false;\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { BasicObject } from \"../basic-object\";\r\nexport class Wall extends BasicObject {\r\n    constructor(config, imageService, canvasService) {\r\n        super(config, imageService, canvasService);\r\n        this.object.hasCollision = true;\r\n        this.object.layer = 1;\r\n    }\r\n}\r\n","import { Player } from \"../objects/player/player.object\";\r\nimport { Wall } from \"../objects/wall/wall.object\";\r\nexport class ObjectService {\r\n    constructor(imageService, canvasService) {\r\n        this.imageService = imageService;\r\n        this.canvasService = canvasService;\r\n        this.staticObjects = [];\r\n        this.dynamicObjects = [];\r\n    }\r\n    init(objects) {\r\n        this.clearObjects();\r\n        for (let obj of objects) {\r\n            switch (obj.type) {\r\n                case 'wall':\r\n                    this.staticObjects.push(new Wall(obj, this.imageService, this.canvasService));\r\n                    break;\r\n                case 'player':\r\n                    this.dynamicObjects.push(new Player(obj, this.imageService, this.canvasService));\r\n                    break;\r\n            }\r\n        }\r\n        this.renderObjects();\r\n    }\r\n    renderObjects() {\r\n        this.staticObjects.forEach(o => o.render());\r\n        this.dynamicObjects.forEach(o => o.render());\r\n    }\r\n    clearObjects() {\r\n        this.staticObjects = [];\r\n        this.dynamicObjects = [];\r\n    }\r\n}\r\n","export class ProcessService {\r\n    constructor(canvasService, objectService) {\r\n        this.canvasService = canvasService;\r\n        this.objectService = objectService;\r\n    }\r\n    start() {\r\n        const t = setInterval(() => this.step(), 25);\r\n        setTimeout(() => {\r\n            clearInterval(t);\r\n            console.log('interval stopped');\r\n        }, 10000);\r\n    }\r\n    step() {\r\n        this.canvasService.clearCanvas();\r\n        this.objectService.renderObjects();\r\n    }\r\n}\r\n","import CanvasService from \"./services/canvas.service\";\r\nimport { ImageService } from \"./services/image.service\";\r\nimport { ObjectService } from \"./services/object.service\";\r\nimport { ProcessService } from \"./services/process.service\";\r\nexport default class Platformer2D {\r\n    constructor(canvas, config) {\r\n        this.config = config;\r\n        this.imageService = new ImageService();\r\n        this.canvasService = new CanvasService(canvas, config);\r\n        this.objectService = new ObjectService(this.imageService, this.canvasService);\r\n        this.processService = new ProcessService(this.canvasService, this.objectService);\r\n        this.init();\r\n    }\r\n    init() {\r\n        const sub = this.imageService.isLoaded$.subscribe(isLoaded => {\r\n            if (isLoaded) {\r\n                sub.unsubscribe();\r\n                this.objectService.init(this.config.objects);\r\n                this.afterInit();\r\n            }\r\n        });\r\n    }\r\n    afterInit() {\r\n        this.processService.start();\r\n    }\r\n}\r\n;\r\n"],"sourceRoot":""}